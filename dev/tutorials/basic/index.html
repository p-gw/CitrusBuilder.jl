<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Construct basic surveys · CitrusBuilder.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://p-gw.github.io/CitrusBuilder.jl/tutorials/basic/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.044/juliamono.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">CitrusBuilder.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting_started/">Getting Started</a></li><li><span class="tocitem">Tutorials</span><ul><li class="is-active"><a class="tocitem" href>Construct basic surveys</a><ul class="internal"><li><a class="tocitem" href="#Alternative-approach"><span>Alternative approach</span></a></li></ul></li><li><a class="tocitem" href="../multi_language/">Construct multi-language surveys</a></li><li><a class="tocitem" href="../from_data/">Construct surveys programmatically</a></li><li><a class="tocitem" href="../custom_question_types/">Creating custom question types</a></li></ul></li><li><span class="tocitem">API</span><ul><li><a class="tocitem" href="../../lib/types/">Types</a></li><li><a class="tocitem" href="../../lib/functions/">Functions</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Tutorials</a></li><li class="is-active"><a href>Construct basic surveys</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Construct basic surveys</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/p-gw/CitrusBuilder.jl/blob/master/docs/src/tutorials/basic.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Constructing-basic-surveys"><a class="docs-heading-anchor" href="#Constructing-basic-surveys">Constructing basic surveys</a><a id="Constructing-basic-surveys-1"></a><a class="docs-heading-anchor-permalink" href="#Constructing-basic-surveys" title="Permalink"></a></h1><p>CitrusBuilder offers two different modes of survey building. Both modes of construction are suitable for different use cases. To create simple surveys the survey structure can be created at once by using the <code>do ... end</code> syntax. All survey components that have child elements, e.g. <a href="../../lib/functions/#CitrusBuilder.survey"><code>survey</code></a>, <a href="../../lib/functions/#CitrusBuilder.question_group"><code>question_group</code></a> or <a href="../../lib/functions/#CitrusBuilder.multiple_short_text_question"><code>multiple_short_text_question</code></a>, do allow for this method of construction.</p><p>Let&#39;s imagine we want to create a simple survey for an introductory statistics class where we want to gather data on the <em>age</em> (in years), <em>gender</em>, and <em>height</em> (in cm) of the students. </p><p>In order to accomplish this, we need to construct a survey with </p><ol><li>A <a href="../../lib/functions/#CitrusBuilder.gender_select"><code>gender_select</code></a>, </li><li>A <a href="../../lib/functions/#CitrusBuilder.numerical_input"><code>numerical_input</code></a> for the participants age,</li><li>A <a href="../../lib/functions/#CitrusBuilder.numerical_input"><code>numerical_input</code></a> for the participants height</li></ol><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>LimeSurvey requires that questions are nested within a question group. In order to construct a valid survey we must respect this restriction even if no question grouping is needed.</p></div></div><pre><code class="language-julia hljs">using CitrusBuilder

my_statistics_survey = survey(100000, &quot;Statistics 101 survey&quot;) do
    question_group(1, &quot;&quot;) do  # this is a dummy question group, no title needed
        gender_select(&quot;gender&quot;, &quot;Please select your gender.&quot;),
        numerical_input(&quot;age&quot;, &quot;Please state your age in years.&quot;, minimum=18, integer_only=true),
        numerical_input(&quot;height&quot;, &quot;Please state your height in centimeters.&quot;, minimum=0, maximum=250, integer_only=true)
    end
end</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Survey with 1 group and 3 questions.
Statistics 101 survey (id: 100000)
└──  (id: 1)
    ├── Please select your gender. (id: gender)
    ├── Please state your age in years. (id: age)
    └── Please state your height in centimeters. (id: height)
</code></pre><p>For the <a href="../../lib/functions/#CitrusBuilder.numerical_input"><code>numerical_input</code></a> questions we also imposed several restrictions provided by LimeSurvey: </p><ol><li><em>age</em> must be at least 18 and can only have integer values,</li><li><em>height</em> must be a non-negative integer with a maximum height of 250cm.</li></ol><p>Now that the survey is complete, it can be exported to an <code>.lss</code> file.</p><pre><code class="language-julia hljs">write(&quot;statistics_101.lss&quot;, my_statistics_survey)</code></pre><h2 id="Alternative-approach"><a class="docs-heading-anchor" href="#Alternative-approach">Alternative approach</a><a id="Alternative-approach-1"></a><a class="docs-heading-anchor-permalink" href="#Alternative-approach" title="Permalink"></a></h2><p>An alternative to the basic survey construction outlined in the previous section is to build the survey iteratively. CitrusBuilder overloads the Julia Base functions <a href="../../lib/functions/#Base.append!"><code>append!</code></a>, <a href="../../lib/functions/#Base.insert!"><code>insert!</code></a>, and <a href="../../lib/functions/#Base.prepend!"><code>prepend!</code></a>. These functions can be used to append, insert or prepend survey components to a survey respectively. A simple example of this method was given in the <a href="../../getting_started/##Now-what?">Getting Started</a> section.</p><p>Consider again the example from the previous section: A survey gathering data on the <em>age</em>, <em>gender</em>, and <em>height</em> of the survey participants. Using this approach we first must construct an empty survey,</p><pre><code class="language-julia hljs">using CitrusBuilder

my_statistics_survey = survey(100000, &quot;Statistics 101 survey&quot;)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Survey with 0 groups and 0 questions.
Statistics 101 survey (id: 100000)
</code></pre><p>Now we can define and append the required question group to the survey, </p><pre><code class="language-julia hljs">g1 = question_group(1, &quot;&quot;)
append!(my_statistics_survey, g1)

my_statistics_survey</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Survey with 1 group and 0 questions.
Statistics 101 survey (id: 100000)
└──  (id: 1)
</code></pre><p>Questions can then be appended to the question group <code>g1</code>. </p><pre><code class="language-julia hljs">append!(g1, gender_select(&quot;gender&quot;, &quot;Please select your gender.&quot;))
append!(g1, numerical_input(&quot;age&quot;, &quot;Please state your age in years.&quot;, minimum=18, integer_only=true))
append!(g1, numerical_input(&quot;height&quot;, &quot;Please state your height in centimeters.&quot;, minimum=0, maximum=250, integer_only=true))

my_statistics_survey</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Survey with 1 group and 3 questions.
Statistics 101 survey (id: 100000)
└──  (id: 1)
    ├── Please select your gender. (id: gender)
    ├── Please state your age in years. (id: age)
    └── Please state your height in centimeters. (id: height)
</code></pre><p>Again, we can export the survey to an <code>.lss</code> file using <a href="../../lib/functions/#Base.write"><code>write</code></a>.</p><pre><code class="language-julia hljs">write(&quot;statistics_101.lss&quot;, my_statistics_survey)</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../getting_started/">« Getting Started</a><a class="docs-footer-nextpage" href="../multi_language/">Construct multi-language surveys »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.16 on <span class="colophon-date" title="Thursday 8 September 2022 06:44">Thursday 8 September 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
